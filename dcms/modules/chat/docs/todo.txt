Список текущих пользователей чата хранится на сервере и у клиента.
Если пользователь давно не писал сообщений в паблик то клиент отсылает запрос, типа проверь в сети ли он вообще. 
Такой запрос отсылается при неактивности пользователя свыше 20 минут. Сервер может ответить что пользователь к нему недавно обращался, тогда клиент
 сбрасывает счетчик и ждет еще 20 минут. 
 Периодичность загрузки новых сообщений из чата определяется на основании активности за предыдущие 10 минут. при этом периодичность загрузки
  новых сообщений зависит от сигмоиды, у которой верхний предел 30 секунд, а нижний предел зависит от количества сообщений за прошеднее время.
  
  Обрабатываются следующие типы сообщений:
  1 обычное сообщение пользователя. 
  2  пользователь сменил статус,либо еще какую служебную информацию. доступна следующая инфа:
  	смена статуса присутсвия, ушел пришел отошел и тд
  	смена цвета ника
  	смена статусного сообщения
  
  3 сообщение о том что пользователь присоединился к нашему чату, в сообщении указывается ник,имя файла аватарки,цвет ника пользователя. 
  4 пользователь покинул чат

  
  Сделать возможность маркировки пользователей общение с которыми приоритетно, типа избранного. При этом все их сообщения будут помечаться отдельно.
  
  Кнопка перезагрузки списка 